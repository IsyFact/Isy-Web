<html xmlns="http://www.w3.org/1999/xhtml" xmlns:composite="http://java.sun.com/jsf/composite"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:t="http://myfaces.apache.org/tomahawk" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:isy="http://java.sun.com/jsf/composite/isyfact">

<!-- Eine Gruppierung von Radio Buttons innerhalb von Formularen. -->

<composite:interface>
    
    <!-- Die Custom Name. -->
    <composite:attribute name="customId" required="false" />
    
    <!-- Der Wert der Auswahl für das Data-Binding -->
    <composite:attribute name="value" required="true" />
    <!-- Die Select-Items. Jedes Item entspricht einem Radio-Button. -->
    <composite:attribute name="selectItems" required="true" />
    <!-- Ob die Radio-Buttons inline angezeigt werden sollen oder nicht. -->
    <composite:attribute name="inline" type="Boolean" default="false" />
    <!-- Ob die Darstellung nur lesend erfolgen soll -->
    <composite:attribute name="disabled" type="Boolean" default="false" />

    <!-- Die Referenz des Objekts. -->
    <composite:attribute name="reference" required="true" />
    <!-- Der Text für das Label -->
    <composite:attribute name="label" type="String" required="false" />
    <!-- Die CSS-Klasse für das Label. -->
    <composite:attribute name="labelStyleClass" type="String" default="col-lg-6" />
    <!-- Die CSS-Klasse für den Eingabebereich. -->
    <composite:attribute name="inputStyleClass" type="String" default="col-lg-6" />
    <!-- On die Eingabe ein Pflichteingabe ist. -->
    <composite:attribute name="required" type="Boolean" default="false" />

    <!-- Ein spezifisches Validation-Model, falls benötigt. -->
    <composite:attribute name="validationModel" required="false" default="#{validationModel}" />
    <!-- Eine spezifsche globale Konfiguration, falls benötigt. -->
    <composite:attribute name="globalConfig" required="false" default="#{globalConfigurationModel}" />

</composite:interface>

<composite:implementation>

    <ui:param name="validationMessages"
        value="#{cc.attrs.validationModel.getValidationMessagesForReference(cc.attrs.reference)}" />
    <ui:param name="existsValidationError" value="#{not empty validationMessages}" />

    <div class="form-group#{existsValidationError ? ' has-error has-feedback': ''} #{cc.attrs.customId}">
        <label class="#{cc.attrs.labelStyleClass} control-label#{cc.attrs.required ? ' mandatory' : ''}"
            for="#{cc.clientId}:#{jsfHelper.escapeIdentifier(cc.attrs.reference)}">#{cc.attrs.label} </label>
        <div class="#{cc.attrs.inputStyleClass}">
            <ui:fragment rendered="#{not cc.attrs.inline}">
                <isy:selectOneRadio value="#{cc.attrs.value}" selectItems="#{cc.attrs.selectItems}" disabled="#{cc.attrs.disabled}" />
            </ui:fragment>
            <ui:fragment rendered="#{cc.attrs.inline}">
                <isy:selectOneRadioInline value="#{cc.attrs.value}" selectItems="#{cc.attrs.selectItems}" />
            </ui:fragment>
        </div>
    </div>

</composite:implementation>

</html>
