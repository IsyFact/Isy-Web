<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<composite:interface>

	<!-- 4 Augen Prinzip Mode (locked, unlock) -->
	<composite:attribute name="fourEyesMode" type="String" />

	<!-- Der letzte Wert -->
	<composite:attribute name="fourEyesLastValue" type="String" />

	<!-- Farbwert für das Icon -->
	<composite:attribute name="disabled" type="Boolean" default="false" />

	<!-- CSS-Klasse für den Link -->
	<composite:attribute name="linkClass" type="String" default="" />

	<!-- CSS-Klasse für den Button -->
	<composite:attribute name="buttonClass" type="String" default="" />

</composite:interface>

<composite:implementation>

	<ui:define name="fourEyesActive" value="#{not empty cc.attrs.fourEyesMode}" />
	<ui:define name="fourEyesColor"
		value="#{fourEyesActive and 'locked' eq cc.attrs.fourEyesMode ? 'red' : 'grey'}" />

	<ui:fragment rendered="#{fourEyesActive}">
		<a data-delay="100" data-trigger="hover" data-title=""
			data-placement="top" data-content="#{cc.attrs.fourEyesLastValue}"
			data-toggle="#{empty cc.attrs.fourEyesLastValue?'':'tooltip'}"
			class="btn btn-link btn-tooltip #{empty cc.attrs.fourEyesLastValue?'':'rf-popover'} #{cc.attrs.linkClass}"
			data-original-title="" title="">
			<button type="submit" jsf:id="fourEyesIconButton"
				jsf:action="DEFAULT_ACTION"
				class="btn btn-icon btn-icon-small input-group-addon #{cc.attrs.buttonClass}">
				<f:attribute name="disabled" value="#{cc.attrs.disabled}"/>
				<div class="icon icon-unlock" style="color: #{fourEyesColor}">
				</div>
			</button>
		</a>
	</ui:fragment>

</composite:implementation>

</html>
